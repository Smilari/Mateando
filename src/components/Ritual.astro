---
import { Image } from 'astro:assets';
import mateIcon from '../assets/mate-icon.svg';
---

<section id="ritual" class="py-20 bg-gradient-to-b from-brown-100 to-brown-200">
    <div class="container mx-auto px-4">
        <h2 class="text-3xl md:text-5xl font-bold text-brown-800 mb-12 text-center">
            El Ritual del Mate
        </h2>
        <div class="grid md:grid-cols-2 gap-8 items-center">
            <div class="ritual-steps">
                <div class="step mb-6" data-step="1">
                    <h3 class="text-xl font-bold text-green-700 mb-2">1. Preparación</h3>
                    <p class="text-gray-700">Llena el mate con yerba hasta 3/4 de su capacidad.</p>
                </div>
                <div class="step mb-6" data-step="2">
                    <h3 class="text-xl font-bold text-green-700 mb-2">2. Temperatura del Agua</h3>
                    <p class="text-gray-700">Calienta el agua a 70-80°C, nunca uses agua hirviendo.</p>
                </div>
                <div class="step mb-6" data-step="3">
                    <h3 class="text-xl font-bold text-green-700 mb-2">3. Cebar</h3>
                    <p class="text-gray-700">Vierte el agua cuidadosamente en el mismo lugar.</p>
                </div>
                <!-- Añade más pasos según sea necesario -->
            </div>
            <div class="ritual-animation">
                <div class="relative w-64 h-64 mx-auto">
                    <Image
                            src={mateIcon}
                            alt="Icono de mate"
                            width={40}
                            height={40}
                            class="w-full h-full object-contain"
                    />
                    <div id="water-animation" class="absolute top-0 left-1/2 w-1 bg-blue-400 transform -translate-x-1/2" style="height: 0;"></div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
  const steps = document.querySelectorAll('.step');
  const waterAnimation: HTMLElement = document.querySelector('#water-animation') as HTMLElement;

  steps.forEach((step, index) => {
    step.addEventListener('mouseenter', () => {
      waterAnimation.style.height = `${(index + 1) * 25}%`;
    });
  });
</script>